diff --git a/tools/ir-generator/CMakeLists.txt b/tools/ir-generator/CMakeLists.txt
index 660fd10ae6..dba95613ff 100644
--- a/tools/ir-generator/CMakeLists.txt
+++ b/tools/ir-generator/CMakeLists.txt
@@ -44,4 +44,11 @@ add_executable (irgenerator ${IRGENERATOR_SRCS} ${IRGENERATOR_GEN_SRCS})
 # The generator expression $<BOOL:1> prevents IDE generators like Xcode
 # from appending a per-configuration subdirectory to the specified path.
 set_property(TARGET irgenerator PROPERTY RUNTIME_OUTPUT_DIRECTORY $<$<BOOL:1>:${IR_GENERATOR_DIRECTORY}>)
+# Link filesystem library for GCC 8 (std::filesystem requires libstdc++fs)
+# In GCC 9+, filesystem is part of the standard library
+# Also needed when using Clang with libstdc++ from GCC 8
+find_library(STDCXXFS_LIB stdc++fs)
+if(STDCXXFS_LIB)
+    target_link_libraries(irgenerator ${STDCXXFS_LIB})
+endif()
 target_link_libraries (irgenerator p4ctoolkit ${P4C_LIB_DEPS} ${CMAKE_THREAD_LIBS_INIT})
